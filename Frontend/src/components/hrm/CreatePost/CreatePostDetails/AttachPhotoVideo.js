import { useFormatMessage } from "@apps/utility/common"
import { Tooltip } from "antd"
import classNames from "classnames"
import React, { Fragment } from "react"
import { Label } from "reactstrap"

const AttachPhotoVideo = (props) => {
  const { handleAddAttachment, loadingUploadAttachment, backgroundImage } =
    props

  return (
    <Fragment>
      <Tooltip
        title={useFormatMessage(
          "modules.feed.create_post.text.attach_photo_video"
        )}>
        <Label className={`mb-0`} for="attach-doc">
          <li
            className={classNames("create_post_footer-li", {
              "cursor-not-allowed":
                loadingUploadAttachment || backgroundImage !== null,
              "cursor-pointer":
                !loadingUploadAttachment && backgroundImage === null
            })}>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20.6678 6.24154L20.6773 6.2243L20.6854 6.20637C20.8745 5.78919 21.3029 5.5 22.03 5.5H23.045C22.6614 5.67791 22.4 6.07212 22.4 6.51V7.41H22.3828L21.5057 7.40003L21.5057 7.4H21.5C21.0571 7.4 20.6741 7.66368 20.5 8.04217V7.03C20.5 6.68757 20.5599 6.43713 20.6678 6.24154ZM24.6 6.51C24.6 6.07212 24.3386 5.67791 23.955 5.5H24.97C25.5051 5.5 25.8735 5.65815 26.1077 5.8923C26.3418 6.12646 26.5 6.49492 26.5 7.03V8.04217C26.3259 7.66368 25.9429 7.4 25.5 7.4H24.59V7.22352L24.6 6.51704L24.6 6.51704V6.51ZM26.2786 9.26786C26.3669 9.17149 26.4436 9.06085 26.5 8.93554V9.97C26.5 10.6971 26.2108 11.1255 25.7936 11.3146L25.7757 11.3227L25.7585 11.3322C25.5629 11.4401 25.3124 11.5 24.97 11.5H23.9516C24.0704 11.4452 24.1764 11.3707 24.2636 11.2836C24.4745 11.0726 24.5823 10.8153 24.5991 10.5294L24.6002 10.5119L24.6 10.4943L24.59 9.61717V9.61H25.5H25.5156L25.5312 9.60903C25.8099 9.59161 26.0754 9.47172 26.2636 9.28355L26.2712 9.27587L26.2786 9.26786ZM22.4 10.5C22.4 10.9429 22.6637 11.3259 23.0422 11.5H22.03C21.4949 11.5 21.1265 11.3418 20.8923 11.1077C20.6582 10.8735 20.5 10.5051 20.5 9.97V8.9587C20.6724 9.33703 21.0508 9.61 21.5 9.61001L21.5036 9.60999L22.4 9.60358V10.5Z"
                fill="#2F9BFA"
                stroke="#2F9BFA"
              />
              <path
                d="M14.8811 12.0001C14.8811 13.0384 14.0394 13.8801 13.0011 13.8801C11.9628 13.8801 11.1211 13.0384 11.1211 12.0001C11.1211 10.9618 11.9628 10.1201 13.0011 10.1201C14.0394 10.1201 14.8811 10.9618 14.8811 12.0001Z"
                fill="#2F9BFA"
                stroke="#2F9BFA"
              />
              <path
                d="M25.5 12.459V20.19C25.5 21.9106 24.9891 23.2238 24.1064 24.1064C23.2238 24.9891 21.9106 25.5 20.19 25.5H11.81C9.41093 25.5 7.77734 24.5069 7.01551 22.8238L7.01553 22.8238L7.01381 22.8201C6.68003 22.0984 6.5 21.2227 6.5 20.19V11.81C6.5 10.0894 7.01093 8.77618 7.89355 7.89355C8.77618 7.01093 10.0894 6.5 11.81 6.5H19.541C19.5142 6.66208 19.5014 6.82905 19.5001 7H11.81C10.3159 7 9.09221 7.39568 8.24395 8.24395C7.39568 9.09221 7 10.3159 7 11.81V20.19C7 21.0085 7.14029 21.7209 7.38462 22.3428L7.61209 22.9218L8.12863 22.5752L11.8686 20.0652L11.8697 20.0644C12.4881 19.647 13.3676 19.7008 13.9011 20.1666L13.9066 20.1714L13.9121 20.176L14.2484 20.4528C15.216 21.2802 16.7498 21.279 17.7158 20.4493L21.8756 16.8794L21.8758 16.8793C22.4684 16.3702 23.4516 16.3702 24.0442 16.8793L24.047 16.8817L24.177 16.9917L25 17.6881V16.61V12.4999C25.1709 12.4986 25.3379 12.4858 25.5 12.459Z"
                fill="#2F9BFA"
                stroke="#2F9BFA"
              />
            </svg>

            <input
              type="file"
              id="attach-doc"
              accept="image/*, video/*"
              disabled={loadingUploadAttachment || backgroundImage !== null}
              multiple
              hidden
              onChange={(e) => {
                handleAddAttachment(e.target.files)
              }}
            />
          </li>
        </Label>
      </Tooltip>
    </Fragment>
  )
}

export default AttachPhotoVideo
