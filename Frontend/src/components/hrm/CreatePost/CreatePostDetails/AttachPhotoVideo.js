import { useFormatMessage } from "@apps/utility/common"
import { Tooltip } from "antd"
import classNames from "classnames"
import React, { Fragment } from "react"
import { Label } from "reactstrap"

const AttachPhotoVideo = (props) => {
  const { handleAddAttachment, loadingUploadAttachment, backgroundImage } =
    props

  return (
    <Fragment>
      <Tooltip
        title={useFormatMessage(
          "modules.feed.create_post.text.attach_photo_video"
        )}>
        <Label className={`mb-0`} for="attach-doc">
          <li
            className={classNames("create_post_footer-li", {
              "cursor-not-allowed":
                loadingUploadAttachment || backgroundImage !== null,
              "cursor-pointer":
                !loadingUploadAttachment && backgroundImage === null
            })}> 
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M16.6678 2.24154L16.6773 2.2243L16.6854 2.20637C16.8745 1.78919 17.3029 1.5 18.03 1.5H19.045C18.6614 1.67791 18.4 2.07212 18.4 2.51V3.41H18.3828L17.5057 3.40003L17.5057 3.4H17.5C17.0571 3.4 16.6741 3.66368 16.5 4.04217V3.03C16.5 2.68757 16.5599 2.43713 16.6678 2.24154ZM20.6 2.51C20.6 2.07212 20.3386 1.67791 19.955 1.5H20.97C21.5051 1.5 21.8735 1.65815 22.1077 1.8923C22.3418 2.12646 22.5 2.49492 22.5 3.03V4.04217C22.3259 3.66368 21.9429 3.4 21.5 3.4H20.59V3.22352L20.6 2.51704L20.6 2.51704V2.51ZM22.2786 5.26786C22.3669 5.17149 22.4436 5.06085 22.5 4.93554V5.97C22.5 6.69712 22.2108 7.12554 21.7936 7.31457L21.7757 7.3227L21.7585 7.33221C21.5629 7.44012 21.3124 7.5 20.97 7.5H19.9516C20.0704 7.44521 20.1764 7.3707 20.2636 7.28355C20.4745 7.0726 20.5823 6.81531 20.5991 6.52936L20.6002 6.51185L20.6 6.49432L20.59 5.61717V5.61H21.5H21.5156L21.5312 5.60903C21.8099 5.59161 22.0754 5.47172 22.2636 5.28355L22.2712 5.27587L22.2786 5.26786ZM18.4 6.5C18.4 6.9429 18.6637 7.32586 19.0422 7.5H18.03C17.4949 7.5 17.1265 7.34185 16.8923 7.1077C16.6582 6.87354 16.5 6.50508 16.5 5.97V4.9587C16.6724 5.33703 17.0508 5.61 17.5 5.61001L17.5036 5.60999L18.4 5.60358V6.5Z" fill="#2F9BFA" stroke="#2F9BFA"/>
              <path d="M10.8811 8.00012C10.8811 9.03841 10.0394 9.88012 9.00109 9.88012C7.9628 9.88012 7.12109 9.03841 7.12109 8.00012C7.12109 6.96182 7.9628 6.12012 9.00109 6.12012C10.0394 6.12012 10.8811 6.96182 10.8811 8.00012Z" fill="#2F9BFA" stroke="#2F9BFA"/>
              <path d="M21.5 8.45898V16.19C21.5 17.9106 20.9891 19.2238 20.1064 20.1064C19.2238 20.9891 17.9106 21.5 16.19 21.5H7.81C5.41093 21.5 3.77734 20.5069 3.01551 18.8238L3.01553 18.8238L3.01381 18.8201C2.68003 18.0984 2.5 17.2227 2.5 16.19V7.81C2.5 6.08944 3.01093 4.77618 3.89355 3.89355C4.77618 3.01093 6.08944 2.5 7.81 2.5H15.541C15.5142 2.66208 15.5014 2.82905 15.5001 3H7.81C6.31593 3 5.09221 3.39568 4.24395 4.24395C3.39568 5.09221 3 6.31593 3 7.81V16.19C3 17.0085 3.14029 17.7209 3.38462 18.3428L3.61209 18.9218L4.12863 18.5752L7.86863 16.0652L7.86974 16.0644C8.48811 15.647 9.36764 15.7008 9.90112 16.1666L9.90657 16.1714L9.91215 16.176L10.2484 16.4528C11.216 17.2802 12.7498 17.279 13.7158 16.4493L17.8756 12.8794L17.8758 12.8793C18.4684 12.3702 19.4516 12.3702 20.0442 12.8793L20.047 12.8817L20.177 12.9917L21 13.6881V12.61V8.49988C21.1709 8.49856 21.3379 8.48583 21.5 8.45898Z" fill="#2F9BFA" stroke="#2F9BFA"/>
            </svg>

            <input
              type="file"
              id="attach-doc"
              accept="image/*, video/*"
              disabled={loadingUploadAttachment || backgroundImage !== null}
              multiple
              hidden
              onChange={(e) => {
                handleAddAttachment(e.target.files)
              }}
            />
          </li>
        </Label>
      </Tooltip>
    </Fragment>
  )
}

export default AttachPhotoVideo
